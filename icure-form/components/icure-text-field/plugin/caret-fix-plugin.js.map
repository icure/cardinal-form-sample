{"version":3,"file":"caret-fix-plugin.js","sourceRoot":"","sources":["../../../../tmp/components/icure-text-field/plugin/caret-fix-plugin.ts"],"names":[],"mappings":";;;AAAA,yDAA0C;AACnC,MAAM,cAAc,GAAG;IAC7B,IAAI,QAAQ,GAAG,KAAK,CAAA;IACpB,OAAO,IAAI,0BAAM,CAAC;QACjB,KAAK,EAAE;YACN,eAAe,EAAE;gBAChB,KAAK,EAAE,CAAC,IAAI,EAAE,EAAE;oBACf,IAAI,QAAQ,EAAE,CAAC;wBACd,QAAQ,GAAG,KAAK,CAAA;oBACjB,CAAC;yBAAM,CAAC;wBACP,QAAQ,GAAG,IAAI,CAAA;wBACf,UAAU,CAAC,GAAG,EAAE;4BACf,CAAC;4BAAC,IAAI,CAAC,GAAmB,CAAC,IAAI,EAAE,CAChC;4BAAC,IAAI,CAAC,GAAmB,CAAC,KAAK,EAAE,CAAA;wBACnC,CAAC,EAAE,CAAC,CAAC,CAAA;oBACN,CAAC;oBACD,OAAO,KAAK,CAAA;gBACb,CAAC;aACD;SACD;KACD,CAAC,CAAA;AACH,CAAC,CAAA;AApBY,QAAA,cAAc,kBAoB1B","sourcesContent":["import { Plugin } from 'prosemirror-state'\nexport const caretFixPlugin = function (): Plugin {\n\tlet focusing = false\n\treturn new Plugin({\n\t\tprops: {\n\t\t\thandleDOMEvents: {\n\t\t\t\tfocus: (view) => {\n\t\t\t\t\tif (focusing) {\n\t\t\t\t\t\tfocusing = false\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfocusing = true\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t;(view.dom as HTMLElement).blur()\n\t\t\t\t\t\t\t;(view.dom as HTMLElement).focus()\n\t\t\t\t\t\t}, 0)\n\t\t\t\t\t}\n\t\t\t\t\treturn false\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t})\n}\n"]}