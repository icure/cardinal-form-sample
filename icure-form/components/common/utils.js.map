{"version":3,"file":"utils.js","sourceRoot":"","sources":["../../../tmp/components/common/utils.ts"],"names":[],"mappings":"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","sourcesContent":["import { html, TemplateResult } from 'lit'\nimport { Code, Field, Labels, Position } from '../model'\n\nexport const getLabels = (field: Field): Labels => field.labels ?? (field.shortLabel ? { float: field.shortLabel } : { float: field.label() })\n\nexport function generateLabels(labels: Labels, language: string, translationProvider?: (language: string, text: string) => string): TemplateResult[] {\n\treturn Object.keys(labels).map((position: Position) => generateLabel(labels[position] as string, position, language, translationProvider))\n}\n\nexport function generateLabel(\n\tlabel: string,\n\tlabelPosition: string,\n\tlanguage: string,\n\ttranslationProvider: (language: string, text: string) => string = (language: string, text) => text,\n): TemplateResult {\n\tswitch (labelPosition) {\n\t\tcase 'right':\n\t\tcase 'left':\n\t\t\treturn html` <label class=\"icure-label side above ${labelPosition}\">${translationProvider(language, label)}</label> `\n\t\tdefault:\n\t\t\treturn html` <label class=\"icure-label ${labelPosition}\">${translationProvider(language, label)}</label> `\n\t}\n}\n\nexport const makePromoter = (promotions: string[]) => {\n\tconst middle = promotions.indexOf('*')\n\treturn (code: Code): number => {\n\t\tconst index = promotions.indexOf(code.id ?? '')\n\t\treturn index >= 0 ? index - middle : 0\n\t}\n}\n\nexport const defaultCodePromoter = (code: Code): number =>\n\tcode?.label?.en?.toLowerCase() === 'other' ? 2 : code?.label?.en?.toLowerCase() === 'none' ? 1 : code?.label?.en?.toLowerCase() === 'empty' ? -1 : 0\n\nexport const defaultCodesComparator =\n\t(language = 'en', ascending = true, codePromoter: (c: Code) => number = defaultCodePromoter) =>\n\t(a: Code, b: Code): number => {\n\t\tconst aPromoted = codePromoter(a)\n\t\tconst bPromoted = codePromoter(b)\n\t\tif (aPromoted !== bPromoted) {\n\t\t\treturn (aPromoted - bPromoted) * (ascending ? 1 : -1)\n\t\t}\n\t\treturn (a?.label?.[language] || '').localeCompare(b?.label?.[language] || '') * (ascending ? 1 : -1)\n\t}\n\nexport const naturalCodesComparator =\n\t(codePromoter: (c: Code) => number = defaultCodePromoter) =>\n\t(a: Code, b: Code): number => {\n\t\tconst aPromoted = codePromoter(a)\n\t\tconst bPromoted = codePromoter(b)\n\t\treturn aPromoted !== bPromoted ? -1 : aPromoted - bPromoted\n\t}\n"]}